---
title: Increment Metric
---

sequenceDiagram
    participant MetricService
    participant Optional
    participant log
    participant metricsConfig
    participant MeterRegistry

    Note over MetricService: Method call: increment(metricLabel)
    MetricService->>Optional: ofNullable(metricLabel)
    Optional-->>MetricService: Return Optional
    MetricService->>Optional: orElseThrow()
    Optional-->>MetricService: Throw IllegalArgumentException
    MetricService->>log: debug("metric before increment: {}", metricLabel)
    MetricService->>metricsConfig: getMeterRegistry()
    metricsConfig-->>MetricService: Return Optional<MeterRegistry>
    MetricService->>meterRegistry: ifPresent()
    meterRegistry-->>MetricService: Execute ifPresent block
    MetricService->>meterReg: counter(metricLabel, "environment", environment)
    meterReg-->>MetricService: Return Counter
    MetricService->>Counter: increment()
