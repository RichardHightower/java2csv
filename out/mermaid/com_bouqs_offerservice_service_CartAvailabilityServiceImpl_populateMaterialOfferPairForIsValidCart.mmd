---
title: populateMaterialOfferPairForIsValidCart (CartAvailabilityServiceImpl)
---

sequenceDiagram
    participant CartAvailabilityServiceImpl
    participant List<OfferEntity>
    participant List<MaterialOfferEntity>
    participant List<MaterialEntity>
    participant log

    Note over CartAvailabilityServiceImpl: populateMaterialOfferPairForIsValidCart method

    CartAvailabilityServiceImpl->>log: Start populateMaterialOfferPairForIsValidCart
    CartAvailabilityServiceImpl->>List<OfferEntity>: offerEntities
    CartAvailabilityServiceImpl->>List<MaterialOfferEntity>: materialOfferEntities
    CartAvailabilityServiceImpl->>List<MaterialEntity>: materialEntities
    CartAvailabilityServiceImpl->>log: log.trace("Start populateMaterialOfferPairForIsValidCart")
    CartAvailabilityServiceImpl->>List<OfferEntity>: offerEntities.stream()
    List<OfferEntity>->>List<MaterialOfferEntity>: materialOfferEntities.stream()
    List<MaterialOfferEntity>->>List<MaterialEntity>: materialEntities.stream()
    List<MaterialEntity>-->>List<MaterialOfferEntity>: materialOfferEntityIds.contains(materialEntity.getId())
    List<MaterialEntity]-->>List<OfferEntity>: materialEntity
    List<OfferEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: materialEntity
    List<MaterialEntity]-->>List<MaterialEntity]: material
