sequenceDiagram
    participant OfferServiceImpl
    participant OfferEntity
    participant OptimisticLockingException
    participant CRUDResponse
    participant log
    participant json
    participant offerRequest
    participant offerDao
    
    OfferServiceImpl->>log: Start updateOffer
    OfferServiceImpl->>OfferServiceImpl: getById(offerRequest.getId())
    OfferServiceImpl->>offerRequest: offerRequest.getVersion()
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offerRequest: Return version
    offerRequest->>existedOfferEntity: getVersion()
    existedOfferEntity-->>offer
